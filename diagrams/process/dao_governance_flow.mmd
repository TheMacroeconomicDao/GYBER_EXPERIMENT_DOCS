%% DAO Governance Process Flowchart
%% Based on CyberSocium MacroeconomicDAO governance mechanism

flowchart TD
    Start([Participant Submits<br/>Proposal]) --> Validation{Proposal<br/>Validation}

    Validation -->|Invalid Format| Reject1[Reject:<br/>Resubmit Required]
    Validation -->|Valid| Discussion[Discussion Phase<br/>Community Forum<br/>7-14 days]

    Discussion --> Analysis[Technical Analysis<br/>& Feasibility Review]
    Analysis --> Refinement[Proposal Refinement<br/>Based on Feedback]

    Refinement --> VotePrep[Voting Preparation<br/>Snapshot Creation]
    VotePrep --> Voting[DAO Voting Period<br/>Token-Weighted +<br/>Activity-Verified]

    Voting --> VoteCheck{Vote Result}

    VoteCheck -->|Quorum Not Met| Reject2[Proposal Rejected:<br/>Insufficient Participation]
    VoteCheck -->|Rejected| Reject3[Proposal Rejected:<br/>Majority Against]
    VoteCheck -->|Approved| Execution[Execution Phase]

    Execution --> ExecType{Execution<br/>Type}

    ExecType -->|Smart Contract| AutoExec[Automatic Execution<br/>via Blockchain]
    ExecType -->|Treasury| TreasuryExec[Treasury Allocation<br/>Multi-Sig Approval]
    ExecType -->|Governance| GovExec[Governance Change<br/>Parameter Update]
    ExecType -->|Project| ProjectExec[Project Initiation<br/>IPI Pipeline]

    AutoExec --> Record[Record to<br/>GyberNet Blockchain]
    TreasuryExec --> Record
    GovExec --> Record
    ProjectExec --> IPIFlow[Enter IPI Lifecycle<br/>See IPI Diagram]

    IPIFlow --> Record

    Record --> Monitor[Monitoring &<br/>Accountability]
    Monitor --> Completion{Execution<br/>Complete?}

    Completion -->|In Progress| Monitor
    Completion -->|Complete| Success[Execution Complete<br/>Update Registry]
    Completion -->|Failed| Dispute[Dispute Resolution<br/>Community Review]

    Dispute --> FRP[Fork Resolution<br/>Protocol]

    Success --> End([End])
    Reject1 --> End
    Reject2 --> End
    Reject3 --> End
    FRP --> End

    %% Styling
    classDef startEnd fill:#90EE90,stroke:#2E7D32,stroke-width:3px,color:#000
    classDef process fill:#E3F2FD,stroke:#1976D2,stroke-width:2px,color:#000
    classDef decision fill:#FFF3E0,stroke:#F57C00,stroke-width:2px,color:#000
    classDef reject fill:#FFCDD2,stroke:#C62828,stroke-width:2px,color:#000
    classDef execution fill:#E1BEE7,stroke:#7B1FA2,stroke-width:2px,color:#000
    classDef success fill:#C8E6C9,stroke:#388E3C,stroke-width:2px,color:#000

    class Start,End startEnd
    class Discussion,Analysis,Refinement,VotePrep,Voting,Monitor process
    class Validation,VoteCheck,ExecType,Completion decision
    class Reject1,Reject2,Reject3,Dispute reject
    class Execution,AutoExec,TreasuryExec,GovExec,ProjectExec execution
    class Record,Success,IPIFlow success
